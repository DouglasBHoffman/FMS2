<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>FMS2VT Documentation</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Times New Roman \(Body CS\)";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:-webkit-standard;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	font-weight:bold;
	font-style:italic;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:12.0pt;
	font-size:11.0pt;
	font-family:"Times New Roman",serif;
	font-weight:bold;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:24.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:48.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:60.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:84.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:96.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-link:"Footnote Text Char";
	margin:0in;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;
	color:#44546A;
	font-style:italic;}
span.MsoFootnoteReference
	{vertical-align:super;}
span.MsoEndnoteReference
	{vertical-align:super;}
p.MsoEndnoteText, li.MsoEndnoteText, div.MsoEndnoteText
	{mso-style-link:"Endnote Text Char";
	margin:0in;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
code
	{font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-link:"No Spacing Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
p.code, li.code, div.code
	{mso-style-name:code;
	margin:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
span.EndnoteTextChar
	{mso-style-name:"Endnote Text Char";
	mso-style-link:"Endnote Text";}
span.NoSpacingChar
	{mso-style-name:"No Spacing Char";
	mso-style-link:"No Spacing";
	font-family:"Times New Roman",serif;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Times New Roman",serif;}
span.FootnoteTextChar
	{mso-style-name:"Footnote Text Char";
	mso-style-link:"Footnote Text";}
span.apple-converted-space
	{mso-style-name:apple-converted-space;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal><span style='position:relative;z-index:-1895823360'><span
style='position:absolute;left:-11px;top:-5px;width:3px;height:123px'><img
width=3 height=123 src="FMS2VT%20Documentation.fld/image001.png"></span></span>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=141 height=33></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=533 height=125 src=missing.gif></td>
 </tr>
</table>

</p>

<p class=MsoNormal><b><br clear=all style='page-break-before:always'>
</b>&nbsp;</p>

<br clear=ALL>

<p class=MsoTocHeading>Table of Contents</p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761005">Introduction<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761006">Recommended
File Load Order<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761007">Creating
Objects<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761008">Creating
Classes<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761009">Inheritance<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761010">Instance
Variables<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761011">Name Scope<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761012">Mutability<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761013">Using
Classes to Define Instance Variables (Embedded Objects as Instance Variables)<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761014">Duck Typing<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761015">Declaring/Binding/Overriding
Messages and Methods<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761016">Using Self
and Super (and Eself)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761017">Message
Sending<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761018">Make-selector<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761019">Early and
Late Binding<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761020">Message-to-Class
Early Binding<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761021">Helper
Definitions<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761022">Class
Variables<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761023">Duality of
Forth Data Types and Objects<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761024">Duality of
Objects Allotted in the Dictionary and Objects Allocated in the Heap<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761025">?alloc<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761026">Restore<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761027">Using
FMSCheck?<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761028">IS-A<span
style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761029">High Order
Functions (HOFs)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761030">A Strategy
for Defining New Classes<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761031">Optimising<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761032">Arrays<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761033">Strings<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761034">Files<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761035">JSON<span
style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761036">Hash-Tables<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761037">FREEing
Allocated Objects<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761038">Debugging
Memory De-allocation<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761039">Class
Reference<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761040">Class
Creation<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761041">Class
Related Words<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc145761042">Class
Library Reference<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761043">Ptr Class
(subclass of Object)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761044">Array Class
(subclass of Ptr)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761045">Array HOFs<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761046">Farray Class
(subclass of Array)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761047">Farray HOFs<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761048">String Class
(subclass of Ptr)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761049">String HOFs<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761050">File Class
(subclass of Object)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761051">Int Class
(subclass of Object)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761052">Flt Class
(subclass of Object)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761053">JSON Class
(subclass of array)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761054">bool Class
(subclass of Object)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761055">Hash-Table
Class (subclass of Object)<span style='color:windowtext;display:none;
text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc145761056">Hash-Table
HOFs<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc145761057">Hash-Table-m
Class (subclass of Hash-Table)<span style='color:windowtext;display:none;
text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>0</span></a></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761005"><b>Introduction</b></a></h1>

<p class=MsoNormal>FMS is an object programming<a href="#_ftn1" name="_ftnref1"
title=""><span class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>[1]</span></span></span></a>
extension to ANS Forth. It is class based, single inheritance, uses <a
href="#_Duck_Typing">Duck Typing</a><span class=MsoHyperlink>,</span> and explicit
references to self.</p>

<p class=MsoNormal> </p>

<p class=MsoNormal>Class based: <span style='color:#222222;background:white'>The
structure and behavior of an object are defined by a class, which is a</span><span
class=apple-converted-space><span style='font-family:"Calibri",sans-serif;
color:#222222;background:white'>&nbsp;</span></span><a
href="https://en.wikipedia.org/wiki/Definition" title=Definition><span
style='color:windowtext;text-decoration:none'>definition</span></a><span
style='color:#222222;background:white'> or</span><span
class=apple-converted-space><span style='font-family:"Calibri",sans-serif;
color:#222222;background:white'>&nbsp;</span></span><a
href="https://en.wikipedia.org/wiki/Blueprint" title=Blueprint><span
style='color:windowtext;text-decoration:none'>blueprint</span></a><span
style='color:#222222;background:white'>, of all objects of that specific type. </span></p>

<p class=MsoNormal><span style='color:#222222;background:white'>&nbsp;</span></p>

<p class=MsoNormal><span style='color:#222222;background:white'>Single
inheritance: A new class can inherit instance variables and methods from just
one class. </span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Duck Typing: See the section on <span
class=Heading2Char><u><span style='font-size:13.0pt'>Duck Typing</span></u></span>
in this document.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Explicit references to self: Only used when defining a
class. <span style='color:black;background:white'>Methods can call other
methods on the same object (including themselves), using a special keyword
called</span><span class=apple-converted-space><span style='font-size:10.5pt;
font-family:"Arial",sans-serif;color:#222222;background:white'> </span></span><span
class=apple-converted-space><span style='font-size:10.5pt;font-family:"Courier New";
color:#222222;background:white'>self</span></span><span style='color:black;
background:white'>.</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The approach taken with FMS is to bridge Forth with an oop
extension that makes sense given the environment of Forth data types and
dealing with the dictionary and heap.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The entire FMS object system and all classes reside only in
the dictionary and so will be saved fully intact with a dictionary image save.
All classes can create objects either in the dictionary or in the heap. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761006">Recommended File Load Order</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load file FMS2VT.f which is all that is absolutely needed. Then,
if desired, the class library files can be loaded. The recommended library load
order is provided at the end of the file FMS2VT.f but is also listed below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>\ optionally load file mem.f prior to FMS2VT.f for memory
deallocation </p>

<p class=code>\ debugging</p>

<p class=code>&nbsp;</p>

<p class=code>include ptr.f</p>

<p class=code>include utility-words.f</p>

<p class=code>include array.f</p>

<p class=code>include string.f</p>

<p class=code>include int.f</p>

<p class=code>include flt.f</p>

<p class=code>include file.f</p>

<p class=code>include farray.f</p>

<p class=code>include arrays.f</p>

<p class=code>include objectArray.f</p>

<p class=code>include json.f</p>

<p class=code>include hash-table.f</p>

<p class=code>include hash-table-m.f</p>

<p class=code>include btree.f</p>

<p class=code>include FMS2Tester.f  \ optional testing routines</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>None of the library files are required to be loaded. FMS2
will work fine without them. But you may find the pre-written classes useful or
at least instructive in how FMS can be used.</p>

<h1><a name="_Toc145761007">Creating Objects</a></h1>

<p class=MsoNormal>FMS objects can be created in the dictionary or in the heap.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The simplest way to create a new object is to execute the
class name followed by the desired name for the object. For example:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>10 20 foo myfoo  \ create an object in the dictionary of class
foo named myfoo, with x and y set to 10 and 20. </p>

<p class=code> \ The above will only work in interpreted mode or when including
from a file.</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Alternatively one can use <span style='font-family:"Courier New"'>dict&gt;</span>
and <span style='font-family:"Courier New"'>heap&gt;</span> to create new
nameless objects either in the dictionary or the heap at compile time (dict&gt;
and heap&gt; are compile-time-only words).</p>

<p class=MsoNormal>For example:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>: &gt;point ( x y -- point-obj ) heap&gt; point ; \ executing
&gt;point will create an object in the heap of class</p>

<p class=code>                                            \ point with x y
initialized to the provided items on the stack</p>

<p class=code>&nbsp;</p>

<p class=code>40 50 &gt;point dup :. 40 50 \ print the point using the :.
message</p>

<p class=code>&lt;free ok  \ free the memory allocated for the point</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Note the use of <span style='font-family:"Courier New"'>&lt;free</span>
to destroy the heap point. The word <span style='font-family:"Courier New"'>&lt;free</span>
works on any heap-allocated object. See the section on FREEing Allocated
Objects.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The following will create a string object in the dictionary
named s with a maximum character size of 10 and initialized with
&quot;Hello&quot;</p>

<p class=code>s&quot; Hello&quot; 10 string s</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The following will create a nameless string object in the
heap with no maximum character size and initialized with &quot;Hello&quot;.</p>

<p class=code>: &gt;string ( c-addr u -- str-obj ) heap&gt; string ; </p>

<p class=code>s&quot; Hello&quot; &gt;string  \ will leave a str-obj on the
stack</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Note the different stack inputs required when creating the
object, in this case a string object. The <span style='font-family:"Courier New"'>:init</span>
method for each class defines what stack inputs, if any, are required at object
creation time. For a string the stack inputs differ for strings to be allotted
in the dictionary or allocated in the heap. This is due to the way the I
defined the example string class and can be changed by the programmer as
desired.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Nameless point objects can be created in the dictionary as
follows:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>: make-point ( x y -- point-obj ) dict&gt; point ; \ executing
make-point will create an object in the dictionary of class</p>

<p class=code>                                            \ point with x y
initialized to the provided items on the stack</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>60 70 make-point constant mypoint</p>

<p class=code>mypoint :. 60 70 \ print the point using the :. Message which is
exactly the same behavior as a point in the heap</p>

<p class=code>                 \ But an attempt to &lt;free or :free the
dictionary object will likely crash</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761008">Creating Classes</a></h1>

<p class=MsoNormal>Creating a new class can have the following simple form, for
example below we show the definition of a point class with the behaviors just
described above:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class point \ begin a new class definition, the new class is
named point</p>

<p class=code>  cell bytes x \ define a 1 cell sized instance variable named x</p>

<p class=code>  cell bytes y</p>

<p class=code>  :m :init ( x y -- ) y ! x ! ;m \ define the default constructor
method </p>

<p class=code>  :m :. x ? y ? ;m   \ define a method to print the point</p>

<p class=code>;class \ end the definition of the class</p>

<p class=code>&nbsp;</p>

<p class=code>10 20 point p  \ create a point object named p, created in the
dictionary</p>

<p class=code>p :.  10 20 ok \ the normal &lt;object&gt; &lt;message&gt;
message send in FMS</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The word <span style='font-family:"Courier New"'>:class</span>
begins a new class definition and is followed by the name of the new class.  Since
no superclass was provided then the superclass of class point will default to
class object.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Instance variables are defined with the <span
style='font-size:10.0pt;font-family:"Courier New"'>bytes</span> primitive word.
<span style='font-size:10.0pt;font-family:"Courier New"'>bytes</span> is passed
the size of the instance variable and is followed by the instance variable
name.</p>

<p class=MsoNormal><span style='font-family:"Courier New"'>x</span> and <span
style='font-family:"Courier New"'>y</span> are instance variables of size 1
cell. See the subsection on <span
class=Heading2Char><u><span style='font-size:13.0pt'>Instance Variables</span></u></span>
below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Methods are defined using <span style='font-size:10.0pt;
font-family:"Courier New"'>:m</span> and <span style='font-size:10.0pt;
font-family:"Courier New"'>;m</span>. See the subsection on <span
class=Heading2Char><u><span style='font-size:13.0pt'>Declaring/Binding/Overriding
Messages and Methods</span></u></span><b><span style='font-size:13.0pt;
font-family:"Calibri Light",sans-serif;color:#2F5496'> </span></b>below. Also
see the section <span
class=Heading2Char><u><span style='font-size:13.0pt'>Make-selector</span></u></span>
for creating a message name outside of a class definition.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The word <span style='font-family:"Courier New"'>;class</span>
ends the class definition.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761009">Inheritance</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The more general form of defining a class includes declaring
a superclass from which the newly defined class is said to INHERIT the
superclass  properties:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class newclassname &lt;super superclassname</p>

<p class=code>...</p>

<p class=code>;class</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The newly defined class will inherit all instance variables
and methods from the superclass and all superclasses up the superclass chain.
Note that in recent years some programmers have reached the conclusion that
inheritance, or at least excessive inheritance, is a “bad thing” and can lead
to difficulties in understanding code. One may or may not agree with this.
Regardless, it is always up to you the programmer to use as little or as much
inheritance as you see fit. FMS does not care nor will place any constraints on
you. When wanting to minimize inheritance but also wanting to retain message
name polymorphism, FMS will assist you because it uses Duck Typing which allows
message name reuse in classes that have no inheritance relationship.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If the superclass is class object  then “<span
style='font-size:10.0pt;font-family:"Courier New"'>&lt;super object</span>” may
be optionally omitted because <span style='font-size:10.0pt;font-family:"Courier New"'>object</span>
is always the implied superclass when none is specified explicitly.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Ref27183062"></a><a name="_Toc145761010">Instance Variables</a> </h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The word <span style='font-family:"Courier New"'>bytes</span>
is the instance variable definition primitive.</p>

<p class=MsoNormal>If subclasses re-use an instance variable name from its
superclass(s) then the name will be shadowed. The effect of this shadowing may
or may not be what is desired. There is no checking for this and it is not
recommended that instance variable names be shadowed although it could be done.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761011">Name Scope</a></h3>

<p class=MsoNormal>The instance variable namespace scope is local to the class
so there can be no conflicts with global Forth names or names used in other
classes (with the exception of superclass name shadowing as mentioned above).
When the name of the instance variable is used the action is to leave the
address of the instance variable on the stack. Note that instance variable
names are private to the class in which they are defined and any subclasses of
that class. So, for example, in the <span style='font-size:10.0pt;font-family:
"Courier New"'>point</span> example no global definition using the name 'x' or
'y' will be shadowed and the names 'x' and 'y' can be re-used as many times as
desired in other classes.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761012">Mutability</a></h3>

<p class=MsoNormal>All instance variables are mutable, in this case x and y,
but unless methods are explicitly defined to change the contents of the instance
variable(s) then they cannot (should not) be changed. Encapsulation of the
instance variables is thus preserved.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761013">Using Classes to Define Instance Variables
(Embedded Objects as Instance Variables)</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When designing new classes it is often convenient to use
already-defined classes to define instance variables, instead of using <span
style='font-size:10.0pt;font-family:"Courier New"'>bytes</span>. Consider a possible
rectangle class:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class rectangle </p>

<p class=code>  point upper-left   \ define point instance variables named
upper-left and lower-right</p>

<p class=code>  point lower-right</p>

<p class=code>&nbsp;</p>

<p class=code>\ note how we can send messages to the point instance variables</p>

<p class=code>\ exactly as if they are normal objects</p>

<p class=code> :m :init ( x1 y1 x2 y2 -- ) lower-right :init  upper-left :init ;m</p>

<p class=code> :m :. upper-left :.  lower-right :. ;m</p>

<p class=code>;class</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>10 20 30 40 rectangle r  \ create a rectangle object in the
dictionary named r</p>

<p class=code>r :. 10 20 30 40 ok</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>It is important to understand that the <span
style='font-size:10.0pt;font-family:"Courier New"'>:init</span> message will
NOT be explicitly sent to the two <span style='font-size:10.0pt;font-family:
"Courier New"'>point</span> instance variables. That is why the <span
style='font-size:10.0pt;font-family:"Courier New"'>rectangle</span> class <span
style='font-size:10.0pt;font-family:"Courier New"'>:init</span> method does
this explicitly.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Again, we can use the same class to create an object in the dictionary
or the heap. The <span style='font-size:10.0pt;font-family:"Courier New"'>point</span>
instance variables will automatically be created either in the dictionary or in
the heap along with the owning object.</p>

<p class=code>: &gt;rect ( x1 y1 x2 y2 -- obj ) heap&gt; rectangle;</p>

<p class=code>&nbsp;</p>

<p class=code>1 9 5 6 &gt;rect value r</p>

<p class=code>r :. 1 9 5 6 </p>

<p class=code>r &lt;free ok</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An additional benefit to creating instance variables as
embedded objects is that all message sends will automatically be early bound
because the compiler knows the class of the embedded-object instance variable.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If we instead choose to explicitly create the objects at
instantiation time and store the objects in containers, then we must also
explicitly declare where to create the objects (dictionary or heap) and use @
every time we wish to send a message to the stored object. To illustrate the
difference see the following alternative definition of class rectangle:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class rectangle2 </p>

<p class=code>  cell bytes upper-left  \ upper-left and lower-right are now
containers, not embedded objects</p>

<p class=code>  cell bytes lower-right</p>

<p class=code>&nbsp;</p>

<p class=code>:m :init ( x1 y1 x2 y2 -- ) dict&gt; point dup lower-right !
:init  dict&gt; point dup upper-left ! :init ;m</p>

<p class=code>:m :. upper-left @ :.  lower-right @ :. ;m</p>

<p class=code>;class</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>10 20 30 40 rectangle2 r2  \ create a rectangle object in the
dictionary named r</p>

<p class=code>r2 :. 10 20 30 40 ok</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In addition to the added complexity of creating class
rectangle2, message sends to the objects in the containers will be late bound
(unless we prefix each message send with the name of the class). Further, we
have the problem of possibly creating a rectangle2 object in the heap and
having the point instance variables created in the dictionary. A rectangle
class object has none of these problems. Regardless, there may be a reason to
want to change the object in the instance variable container while the program
is running. If so then use the technique as in class rectangle2 and this can be
done.</p>

<h1><a name="_Ref27183740"></a><a name="_Toc145761014"></a><a
name="_Duck_Typing"></a>Duck Typing</h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Duck typing (used by FMS) is the most flexible way to use
objects and messages so that message polymorphism can be employed. There is no
requirement that different classes using the same message name(s) be related
via inheritance. There is no requirement to define an interface because the
class definition <i>is</i> the interface.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Message names have global scope and so can be used anywhere
and need not be prefaced with the name of an object. Messages can also be
ticked to obtain their <span style='font-size:10.0pt;font-family:"Courier New"'>XT</span>
for normal use with <span style='font-size:10.0pt;font-family:"Courier New"'>EXECUTE</span>.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Classes <span style='font-size:10.0pt;font-family:"Courier New"'>FOO</span>
and <span style='font-size:10.0pt;font-family:"Courier New"'>BAR</span> below
are unrelated, but both use the message <span style='font-size:10.0pt;
font-family:"Courier New"'>PUT</span> without resorting to special means such
as declaring interfaces.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class foo </p>

<p class=code>  cell bytes x  \ define an instance variable named x</p>

<p class=code>  :m put ( n -- ) x ! ;m  \ define a message named PUT,</p>

<p class=code>                    \ define its method, and bind them together</p>

<p class=code>           \ if a superclass has a PUT method, then override it</p>

<p class=code>;class</p>

<p class=code>&nbsp;</p>

<p class=code>:class bar </p>

<p class=code>  cell bytes x</p>

<p class=code>  :m put ( n -- ) 10 * x ! ;m</p>

<p class=code>;class</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>If a message is sent to an object that does not recognize
the message (i.e., a programming error is made), then FMS will put up an error
&quot;Message Not Understood&quot; and cleanly abort rather than crash. Note
that this will only be true with the constant <span style='font-size:10.0pt;
font-family:"Courier New"'>fmsCheck</span><span style='font-family:"Courier New"'>?</span>
set to <span style='font-size:10.0pt;font-family:"Courier New"'>true</span>,
which should be the case during development.</p>

<p class=code>&nbsp;</p>

<h1><a name="_Ref27182996"></a><a name="_Toc145761015">Declaring/Binding/Overriding
Messages and Methods</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Message names are created naturally and automatically as a
class's methods/messages are defined, similar to colon definitions. Note that
there is no requirement that message names begin with colon ':'. I have elected
to use this convention because it results in few name collisions with existing
standard Forth words and is also a convenient indication of when a message or HOF
is being used.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Messages and Methods are created with <span
style='font-family:"Courier New"'>:m &lt;message-name&gt; ... ;m </span>. The
code between &lt;message-name&gt; and ;m defines the method.</p>

<p class=MsoNormal>The word <span style='font-family:"Courier New"'>;class</span>
ends the definition of the class.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <span style='font-family:"Courier New"'>:init</span>
method is special because it is automatically sent to newly created objects
whenever a new object of any class is created. The <span style='font-size:10.0pt;
font-family:"Courier New"'>:init</span> method is not required to be defined
for a new class because it is defined in class object as a null method. It
depends on the behavior you want at object creation time for objects of that
class. The :<span style='font-size:10.0pt;font-family:"Courier New"'>init</span>
method is convenient for initializing the instance variables of an object.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When defining a method the name of the message and the
association of that message to the ensuing method definition are all done at
the same time.  Further, message over riding is also performed at that same
time and is also done automatically because the compiler knows if that message
is used in a parent class. See the example below where subclass <span
style='font-size:10.0pt;font-family:"Courier New"'>BAR'</span> implicitly over
rides the <span style='font-size:10.0pt;font-family:"Courier New"'>PUT</span>
method in class <span style='font-size:10.0pt;font-family:"Courier New"'>FOO</span>.
There is no need, or way, to declare 'override'.</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=code>:class bar' &lt;super foo</p>

<p class=code>  :m put ( n -- ) 10 * x ! ;m  \ note that the message name ‘put’
has no colon because a colon is not required</p>

<p class=code>;class</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761016">Using Self and Super (and Eself)</a></h2>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Self is a pseudo instance variable. Self can only be used in
a method definition. Self will always invoke a late bound message call. Open
recursion is enabled due to this behavior of self. (Special note: IF you are
sure that early binding to Self is what you want, when designing a new class,
Eself can be used in place of Self. Make sure that the method you are early
binding to has already been defined, either in the superclass or in the current
class you are creating).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Also, as long as the message name has been previously
defined, either in some other class or using make-selector, then self
&lt;messagename&gt; can be used in a method definition even if the
&lt;messagename&gt; method has yet to be defined for that class or any of its
superclasses. Ultimately it must be defined or the method call will fail at
runtime &quot;message not understood&quot;.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Super is also a pseudo instance variable and also can only
be used in a method definition. Super is used to direct a message call to the method
of the superclass when that method has been overridden in a subclass. Unlike
self, a message send to super requires that the method for that message be
already defined. But this should normally be the case. A message send to super
results in an early bound message send.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class foo </p>

<p class=code>  :m :x  .&quot; :x from foo  &quot; ;m</p>

<p class=code>  :m :y  .&quot; :y from foo  &quot;  self :x ;m </p>

<p class=code>;class</p>

<p class=code>&nbsp;</p>

<p class=code>foo f</p>

<p class=code>f :y \ =&gt; :y from foo  :x from foo   ok</p>

<p class=code>&nbsp;</p>

<p class=code>:class bar &lt;super foo </p>

<p class=code>  :m :y  .&quot; :y from bar  &quot;  super :y ;m  \ access
overridden :y method using super </p>

<p class=code>  :m :x  .&quot; :x from bar  &quot; ;m </p>

<p class=code>;class </p>

<p class=code>&nbsp;</p>

<p class=code>bar b </p>

<p class=code>b :y \ =&gt; :y from bar  :y from foo  :x from bar  ok</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Due to open recursion when method <span style='font-family:
"Courier New"'>:y</span> in class foo, called by <span style='font-family:"Courier New"'>super</span>
in class bar, calls <span style='font-family:"Courier New"'>self :x</span> the <span
style='font-family:"Courier New"'>:x</span> method from class bar is invoked
instead of the <span style='font-family:"Courier New"'>:x</span> method from class
foo. This is a somewhat subtle but important behavior of open recursion with <span
style='font-size:10.0pt;font-family:"Courier New"'>self</span>. Assure that you
understand this. This behavior is the same as that in SmallTalk and most other
OOP languages that properly implement open recursion.</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761017">Message Sending</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><a name="Basic_OOP_Concepts_and_Terminology"><span
style='font-family:"-webkit-standard",serif;color:black'>A method is like a
function, except that it is applied to a specific object type. We also say that
the method is &quot;invoked&quot; on an object or &quot;sent to&quot; an
object. The object in question is called the &quot;receiver.&quot; Every method
is invoked on a receiving object. </span></a></p>

<p class=MsoNormal><span style='font-family:"-webkit-standard",serif;
color:black'><br>
Methods in FMS are similar to methods in Smalltalk, Java, and C++, where they
are called &quot;member functions&quot;. Methods may take arguments and may
return nothing, a result, or several results, just like Forth colon definitions.
The method body is a sequence of executable statements. Methods are invoked
from expressions as in other languages.<span class=apple-converted-space>&nbsp;</span><br>
<br>
There is an important distinction between &quot;methods&quot; and
&quot;messages&quot;. A method is a body of code, while a message is something
that is sent. A method is similar to a function; in this analogy, sending a
message is similar to calling a function in context (of the receiving object). </span></p>

<p class=MsoNormal><span style='font-family:"-webkit-standard",serif;
color:black'><br>
A message-sending expression will send a message to an object. How the object
responds to the message depends on the type, or class, of the object. Objects
of different types can (and typically do) respond to the same message
differently, since they can invoke different methods.<span
class=apple-converted-space>&nbsp;</span></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Ref27184257"></a><a name="_Toc145761018">Make-selector</a></h1>

<p class=MsoNormal>Messages without methods can be declared anytime outside of
a class definition using <span style='font-family:"Courier New"'>make-</span><span
style='font-size:10.0pt;font-family:"Courier New"'>selector</span>.  This will
create a message that can be used with <span style='font-size:10.0pt;
font-family:"Courier New"'>SELF</span> in a class's method definition even before
the message is associated with a method. This is because <span
style='font-size:10.0pt;font-family:"Courier New"'>SELF</span> is late bound.
This can also be a useful technique, kind of like defer but only for methods.</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761019">Early and Late Binding</a></h1>

<p class=MsoNormal>Late binding, also known as dynamic binding, is the default
message sending mechanism used in FMS. Late binding is the most flexible
because the class of the object is not determined until run-time. There are two
exceptions: An instance variable defined as a class object will have all
message sends early bound. Also, public named objects created in the dictionary
with the &lt;classname&gt; &lt;objectname&gt; syntax will also use early
binding. The reason is that in both cases the FMS compiler knows the class of
the object so automatic early binding for efficiency can be used. There is no
special extra syntax required by the programmer.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761020">Message-to-Class Early Binding</a></h3>

<p class=MsoNormal>Sometimes you may want to force early binding when you are
sure of the object’s class but the compiler does not know the class. For
example, if an object is allotted in the heap then the compiler cannot
automatically early bind message to it. You can force early binding by using
message-to-class. See the following:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>S&quot; hello” &gt;string value s</p>

<p class=code>: test1 ( -- addr len) s :@ ;</p>

<p class=code>: test2 ( -- addr len) s string :@ ;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In test1 the message <span style='font-size:10.0pt;
font-family:"Courier New"'>:@</span> is late bound to the object stored in the
value s. But in test2 we force an early bind by sending the <span
style='font-size:10.0pt;font-family:"Courier New"'>:@</span> message to the <span
style='font-size:10.0pt;font-family:"Courier New"'>string</span> class (name). </p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761021">Helper Definitions</a></h1>

<p class=MsoNormal>Helper definitions look like normal Forth definitions but
are defined inside a class definition (between <span style='font-size:10.0pt;
font-family:"Courier New";color:black'>:CLASS</span><span style='color:black'>&nbsp;</span>and
<span style='font-size:10.0pt;font-family:"Courier New";color:black'>;CLASS</span>).
<span style='color:black'>Any Helper definitions, such as a colon definition or
variable etc. will be private in scope to definitions of that class and any of
its subclasses. These definitions have access to all instance variables of that
class and any of that class's superclasses, and also have access to pseudo
instance variables </span><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SELF</span><span style='color:black'> and </span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>SUPER</span><span
style='color:black'>. See the definitions&nbsp;</span><span style='font-size:
10.0pt;font-family:"Courier New";color:black'>?idx ^elem check (resize) qsort</span><span
style='color:black'>&nbsp;etc. in the file array.f as examples. </span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761022">Class Variables</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A class variable is simply any memory declared inside a
class definition without using the bytes primitive. Typically the standard
Forth word <span style='font-size:10.0pt;font-family:"Courier New"'>variable</span>
is used although any standard Forth memory allocation word, such as <span
style='font-size:10.0pt;font-family:"Courier New"'>fvariable</span>, can be
used. The scope of the name is limited to the class definition and any subclass
definitions of that class. ALL class and subclass instances will access and use
the same single class variable, which is quite different from normal instance
variables where each instance has their own private set of instance variables.</p>

<h1><a name="_Toc145761023">Duality of Forth Data Types and Objects</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>It may be possible to design a classic Forth object
extension where all data are objects, but this does not seem practical or easy
to do. For this behavior one should look to using Oforth<a href="#_ftn2"
name="_ftnref2" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span style='font-size:12.0pt;font-family:"Times New Roman",serif'>[2]</span></span></span></a>.
</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An extension to classic Forth FMS makes some compromises. For
example, it has been designed to co-exist with normal Forth data types. FMS
makes no attempt to convert classic Forth operators such as  <span
style='font-family:"Courier New"'>+ - * /</span>  to messages. This would be
impractical and at best confusing.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>FMS arrays are designed to hold and work with classic Forth
data types like integers and floats. Although since objects are represented by
a one cell pointer then arrays also work well with any object.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Strings are another class of FMS objects that are designed
to interface seamlessly with classic Forth strings. Forth string operations
tend to deal with the ( address length ) form. FMS string objects have many
Forth interface methods that use this form. For example:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>\ create a string object in the heap initialized to &quot;Hello
World&quot;</p>

<p class=code>s&quot; Hello World&quot; &gt;string value s</p>

<p class=code>s&quot; lo&quot; s&quot; hi&quot; s :sch&amp;repl </p>

<p class=code>s :@ type \ =&gt; Helhi World ok</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761024">Duality of Objects Allotted in the Dictionary and
Objects Allocated in the Heap</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Sometimes we want objects that are permanent and allotted in
the dictionary. Sometimes we want temporary objects that are allocated in the
heap such that all of the allocated memory can be FREEed when we are done using
the object(s). FMS is designed to support both types of objects. We also want
to be able to use the exact same methods on each kind of object, where
possible, with minimum changes in method code. It seems desirable that
analogous messages should be named exactly the same and used the same way in
either case, at least as much as possible. This is not a requirement.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761025">?alloc</a></h2>

<p class=MsoNormal>To enable this duality FMS2 uses a value, <span
style='font-family:"Courier New"'>?alloc</span> , that can be used to
communicate to the <span style='font-family:"Courier New"'>:init</span> method
of an object whether any given object is allotted in the dictionary or
allocated in the heap. Use of <span style='font-family:"Courier New"'>?alloc</span>
is optional when designing new classes. See the class definitions of array and
string for examples of use.</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761026">Restore</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>During the compilation of a class the wordlist search-order,
current wordlist and ^class are changed. Successful class compilation will
restore these items to their state just prior to the new class definition. But
if a compilation error occurs before <span style='font-size:10.0pt;font-family:
"Courier New"'>;CLASS</span> is executed then these items will be left in an
unknown state and so will likely cause problems if not restored. So FMS
provides a word, <span style='font-size:10.0pt;font-family:"Courier New"'>RESTORE</span>,
that should be executed when a class compilation error occurs. <span
style='font-size:10.0pt;font-family:"Courier New"'>RESTORE</span> will work for
most Forths as is. But you may need a custom <span style='font-size:10.0pt;
font-family:"Courier New"'>RESTORE</span> for some Forths.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>It is convenient to have <span style='font-size:10.0pt;
font-family:"Courier New"'>RESTORE</span> execute automatically upon a
compilation error. If your Forth has a compilation error hook then you may want
to use it for this purpose.</p>

<h1><a name="_Toc145761027">Using FMSCheck?</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The constant <span style='font-size:10.0pt;font-family:"Courier New"'>FMSCheck?</span>
defined at the beginning of file FMS2.f is set to either true or false. When
set to true several important error checks are made, including the following:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:40.5pt;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Messages sent to objects that do not recognize the message will abort
and display &quot;message not understood&quot; at the console.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:40.5pt;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Array indices will be checked for validity, if not valid the
program will abort with the message &quot;array index out of range&quot;.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:40.5pt;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>String objects allotted in the dictionary will be checked when a
resize operation is attempted. If the maximum size allotted for the string is
exceeded the program will abort with the message &quot;string max-size exceeded&quot;.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:40.5pt;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Attempting to access a string character using an index that is
out of range will cause the program to abort with the message &quot;string
index out of range&quot;.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Since making these checks uses extra time and code it is
recommended that after a program is debugged it be recompiled with <span
style='font-size:10.0pt;font-family:"Courier New"'>FMSCheck?</span> set to
false which will cause the checks to not be made.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>FMSCheck?</span>
can obviously be used in any new code the programmer writes.</p>

<h1><a name="_Toc145761028">IS-A</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The class of any object can be tested using <span
style='font-family:"Courier New"'>is-a</span>. A compile-only word, <span
style='font-family:"Courier New"'>is-a</span> takes an object on the stack and
the name of a class in the input stream as input. A true or false flag is
returned.</p>

<h1><a name="_Toc145761029">High Order Functions (HOFs)</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Since in FMS messages can be freely used outside of class
definitions and compiled independently of any object reference, a HOF is simply
created as a colon definition. Further, and just as importantly, sometimes HOFs
can be used instead of defining a method.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>See the FMS HOFs defined to be used on Arrays and Strings
for typical examples.</p>

<h1><a name="_Toc145761030">A Strategy for Defining New Classes</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Start by
keeping it simple. <span style='font-size:10.0pt;font-family:"Courier New"'>FMSCheck?</span>
should be set to true to help identify errors such as indices out-of-bounds and
messages not understood by objects. </p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Always use
<span style='font-size:10.0pt;font-family:"Courier New"'>self</span> instead of
<span style='font-size:10.0pt;font-family:"Courier New"'>eself</span>.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The above two items are the simplest approach. You can go
back later and optimize your class(s) if you feel the need to do so.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761031">Optimising</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>I often find that my program runs plenty fast enough leaving
both items above as shown. But IF I need more execution speed then the
following can be done:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Set <span
style='font-size:10.0pt;font-family:"Courier New"'>FMSCheck?</span> to false.
Assuming you have completely debugged your program then this will cause no
problems and could noticeably increase execution speed.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Judiciously
use <span style='font-size:10.0pt;font-family:"Courier New"'>eself</span> in
place of <span style='font-size:10.0pt;font-family:"Courier New"'>self</span>
in method definitions. But make sure that you are not relying on self being a
late bound call.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Named
dictionary objects that are created using the &lt;classname&gt;
&lt;objectname&gt; form will automatically use early binding because the FMS
compiler knows the class of the object.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Early
binding can be forced on a use-case basis for objects not created as in 3., for
example objects created via heap&gt; or dict&gt;. With the object reference on
the stack, send the message to the name of the class and an early bind will be
used. For example:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>0
value s</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>:
make-string s” Hello World” heap&gt; string to s</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>  s”
world” s string :search . ;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In <span style='font-size:10.0pt;font-family:"Courier New"'>make-string</span>
the <span style='font-size:10.0pt;font-family:"Courier New"'>:search</span>
method will be early bound to the heap string contained in the value s (this is
an illustrative example only, not a practical example).</p>

<h1><a name="_Toc145761032">Arrays</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Class array is for 1-dimensional arrays with elements of
size 1 cell. Arrays are 0-based indexed, that is element with index = 0 will be
the first element of the array.</p>

<p class=MsoNormal>Array object can be created in the dictionary or in the
heap. An array in the dictionary will be initially empty and have a maximum
size as provided on the stack when created. An abort and error message will be
shown if the maximum size is attempted to be exceeded.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>include
FMS2VT/array.f</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>\ Create an array in the dictionary named a with a maximum size
of 5 cells. </p>

<p class=code>\ So a can hold a maximum of 5 cell-sized elements.</p>

<p class=code>&nbsp;</p>

<p class=code>5 array a</p>

<p class=code>&nbsp;</p>

<p class=code>\ add elements to a</p>

<p class=code>1 a :add</p>

<p class=code>2 a :add</p>

<p class=code>3 a :add</p>

<p class=code>&nbsp;</p>

<p class=code>\ display the contents of a</p>

<p class=code>a :.</p>

<p class=code>\ output follows</p>

<p class=code>0 1 </p>

<p class=code>1 2 </p>

<p class=code>2 3 ok</p>

<p class=code>&nbsp;</p>

<p class=code>\ Create a nameless array in the heap.</p>

<p class=code>\ The maximum number of elements are the size of an unsigned
integer.</p>

<p class=code>&nbsp;</p>

<p class=code>&gt;array value b</p>

<p class=code>: fill-b</p>

<p class=code>  10000 0 do i b :add loop ; ok</p>

<p class=code>fill-b </p>

<p class=code>&nbsp;</p>

<p class=code>b :. </p>

<p class=code>\ output follows </p>

<p class=code>0 0 </p>

<p class=code>1 1 </p>

<p class=code>2 2 </p>

<p class=code>3 3 </p>

<p class=code>4 4 </p>

<p class=code>5 5 </p>

<p class=code>6 6 </p>

<p class=code>... </p>

<p class=code>9999 9999 ok</p>

<p class=code>&nbsp;</p>

<p class=code>\ return the element at index 800</p>

<p class=code>800 b :at .</p>

<p class=code>\ =&gt; 800 ok</p>

<p class=code>&nbsp;</p>

<p class=code>\ try to return an element at index 10000</p>

<p class=code>10000 b :at</p>

<p class=code>\ =&gt; array index out of range \ aborted</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=code>\ Alternatively, there is a convenient syntax for creating heap
arrays</p>

<p class=code>\ with data. </p>

<p class=code>&nbsp;</p>

<p class=code>i{ 2 3 4 5 } dup :.</p>

<p class=code>\ output follows</p>

<p class=code>0 2 </p>

<p class=code>1 3 </p>

<p class=code>2 4 </p>

<p class=code>3 5 ok \ 1</p>

<p class=code>&nbsp;</p>

<p class=code>&lt;free  \ frees the allocated memory</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>There is a shorthand notation available for entering
consecutive integers with the <span style='font-size:10.0pt;font-family:"Courier New"'>i{
... }</span> and <span style='font-size:10.0pt;font-family:"Courier New"'>o{
... }</span> syntax:</p>

<p class=code>&nbsp;</p>

<p class=code>i{ 1 2 3 .. 15 20 100 } dup :. </p>

<p class=code>\ output follows</p>

<p class=code>0 1 </p>

<p class=code>1 2 </p>

<p class=code>2 3 </p>

<p class=code>3 4 </p>

<p class=code>4 5 </p>

<p class=code>5 6 </p>

<p class=code>6 7 </p>

<p class=code>7 8 </p>

<p class=code>8 9 </p>

<p class=code>9 10 </p>

<p class=code>10 11 </p>

<p class=code>11 12 </p>

<p class=code>12 13 </p>

<p class=code>13 14 </p>

<p class=code>14 15 </p>

<p class=code>15 20 </p>

<p class=code>16 100 ok </p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>The class library provided also provides arrays that hold
Forth floating point elements.</p>

<p class=code>&nbsp;</p>

<p class=code>3 farray f ok</p>

<p class=code>1.5e f :add ok</p>

<p class=code>9.99e f :add ok</p>

<p class=code>0e f :add ok</p>

<p class=code>f :.</p>

<p class=code>\ output follows </p>

<p class=code>0 1.5 </p>

<p class=code>1 9.99 </p>

<p class=code>2 0. ok</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Also note that we have <span style='font-size:10.0pt;
font-family:"Courier New"'>&gt;farray</span> and <span style='font-size:10.0pt;
font-family:"Courier New"'>f{ ... }</span> syntax, analogous to the Forth
integer syntax.</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Note that all of the array data (elements) so far have been
Forth data types, not objects.  Since all objects are of size 1 cell, then any
object of any type can be an array element. There is a convenient syntax for
creating arrays objects when the objects are of type int, flt, or string.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>o{ 2 4.5 'hello world' } value x </p>

<p class=code>[: :. ;] x :apply \ =&gt; 2 4.5 'hello world' ok</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>With the o{ ... } syntax we can easily nest arrays to any
level (though array nesting can also be done without this syntax).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>o{ { 0 1 2 } { 3 4 { 100 200 } 5 } { 6 7 8 } } value y  </p>

<p class=code>y :.</p>

<p class=code>\ output follows </p>

<p class=code>{ </p>

<p class=code>{ 0 1 2 } </p>

<p class=code>{ 3 4 </p>

<p class=code>{ 100 200 } 5 } </p>

<p class=code>{ 6 7 8 } } ok</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All of the shorthand syntax described so far ( i{ ... } f{
... } and o{ ... } ) has been used in interpret mode. It is also possible to
use the same syntax in a compiled definition by using s&quot; ...&quot; and
evaluate.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>: test ( -- obj ) s&quot; o{ { 0 1 2 } { 3 4 { 100 200 } 5 } { 6
7 8 } }&quot; evaluate ; </p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<h1><a name="_Toc145761033">Strings</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Class string is for ASCII strings with chars 1 byte in size.
String objects can be created in the dictionary or in the heap. A string object
in the dictionary will initially contain the provided text and have a maximum
size as provided on the stack when created. An abort and error message will be
shown if the maximum size is attempted to be exceeded.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>\ Create a string in the dictionary named s with a maximum size
of 15 chars. </p>

<p class=code>&nbsp;</p>

<p class=code>s&quot; Hello&quot; 15 string s \ the maximum size of s is 15
characters</p>

<p class=code>&nbsp;</p>

<p class=code>\ add text to s</p>

<p class=code>s&quot;  World&quot; s :add</p>

<p class=code>&nbsp;</p>

<p class=code>\ print s</p>

<p class=code>s :.  \ =&gt; Hello World ok</p>

<p class=code>&nbsp;</p>

<p class=code>\ do a string dump to inspect the string object state</p>

<p class=code>s :d </p>

<p class=code>\ output follows</p>

<p class=code>                    1                   2                  
3                   4</p>

<p class=code>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2
3 4 5 6 7 8 9 0</p>

<p class=code> H e l l o   W o r l d</p>

<p class=code>S</p>

<p class=code>E</p>

<p class=code>start= 0  end= 0  size= 11 maxsize= 15 ok</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>FMS strings use the familiar GUI string selection metaphor
for substring searches, inserting, deleting, etc.  String objects maintain
internal pointers such as START and END for these purposes. Consider the
following illustration in Figure 1:</p>

<p class=code>&nbsp;</p>

<p class=code style='page-break-after:avoid'><img border=0 width=468 height=94
id="Picture 1" src="FMS2VT%20Documentation.fld/image002.jpg"></p>

<p class=MsoCaption>Figure 1</p>

<p class=MsoNormal>The :search method searches for the given text in the
object. If found true is returned and the START and END pointers are set to
mark the found substring. The advantage of this approach is that subsequent
operations like :insert :delete and :replace will act on the
&quot;hilited&quot; substring just as we would expect in any GUI text
processor. The exact numerically indexed position and length of the found
substring is not required (though it can be easily determined with the :start
and :end methods).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The substring search engine for FMS strings uses the
Boyer-Moore technique.<a href="#_edn1" name="_ednref1" title=""><span
class=MsoEndnoteReference><span class=MsoEndnoteReference><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>[i]</span></span></span></a>
This search engine is particularly fast when searching for strings in large
pools of text such as 1 MB. I have measured a typical <span style='font-family:
"Courier New"'>:search</span> speedup ranging from 3 to 5 times faster than the
fastest Forth <span style='font-family:"Courier New"'>search</span> I could
find. While it has a setup overhead and so must be slower for short pools of
text the slowdown compared to other search methods will likely not be noticeable
in practice. But notice the significant search speed improvement in the
following example 3.3 MB text file in the Files section below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc145761034">Files</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The file class objects make it convenient to deal with files.
Once created, the name of the file (full path if that is necessary or desired)
and file ID are maintained in the file object's internal data. An example of
FMS2 file usage is shown below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>\ The test large text file can be downloaded from the following
website:</p>

<p class=code>\ https://www.gutenberg.org/files/135/135-0.txt</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>s&quot;
/Users/doughoffman/Desktop/FMS2a/135-0.txt&quot; file f</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>f
:read value s \ return the entire file as a string object</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>f
:size . \ =&gt; 3369772</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> </span></p>

<p class=code>: test-searchCI ( case insensitive! )</p>

<p class=code>    s :reset</p>

<p class=code>    timer-reset</p>

<p class=code>    s&quot; Facility: www.Gutenberg.org&quot; s :searchCI .</p>

<p class=code>    .elapsed ;</p>

<p class=code>: test10 10 0 do cr test-searchCI loop ;</p>

<p class=code>&nbsp;</p>

<p class=code>test10 </p>

<p class=code>\ output follows  </p>

<p class=code>-1 1.81 msec</p>

<p class=code>-1 1.70 msec</p>

<p class=code>-1 1.58 msec</p>

<p class=code>-1 1.73 msec</p>

<p class=code>-1 1.68 msec</p>

<p class=code>-1 1.56 msec</p>

<p class=code>-1 1.78 msec</p>

<p class=code>-1 2.27 msec</p>

<p class=code>-1 1.75 msec</p>

<p class=code>-1 1.72 msec ok</p>

<p class=code>&nbsp;</p>

<p class=code>\ now test VFX search ( case sensitive )</p>

<p class=code>: test-search</p>

<p class=code>    s :reset</p>

<p class=code>    timer-reset</p>

<p class=code>    s :@ s&quot; facility: www.gutenberg.org&quot;  search . . .</p>

<p class=code>    .elapsed ;</p>

<p class=code>: test10 10 0 do cr test-search loop ; </p>

<p class=code> </p>

<p class=code>test10</p>

<p class=code>\ output follows </p>

<p class=code>-1 297 218225155 8.20 msec</p>

<p class=code>-1 297 218225155 8.34 msec</p>

<p class=code>-1 297 218225155 8.30 msec</p>

<p class=code>-1 297 218225155 8.37 msec</p>

<p class=code>-1 297 218225155 8.44 msec</p>

<p class=code>-1 297 218225155 9.00 msec</p>

<p class=code>-1 297 218225155 8.28 msec</p>

<p class=code>-1 297 218225155 8.28 msec</p>

<p class=code>-1 297 218225155 8.32 msec</p>

<p class=code>-1 297 218225155 8.26 msec ok</p>

<p class=code>&nbsp;</p>

<p class=code>f :free \ will free the memory in the file strings and close the
file </p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<h1><a name="_Toc145761035">JSON</a></h1>

<p class=code>&nbsp;</p>

<p class=MsoNormal>The JSON data format is handled using the FMS library code along
with the library file json.f. JSON formatted text can be read from the input
stream or from an FMS string object. The result is a JSON object which is
easily modified, inspected, and written back into an FMS string for further
manipulation such as writing to a file or whatever. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Classes used for the JSON Data Types are as follows:</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>json     a
subclass of array with unique :. :free :write and :search methods  \ classic
JSON terminology calls this an Object, a collection of name-value pairs. This is
the curly bracket comma delimited json array type: {   ,   ,   ,   }</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>pair      an
object that contains the name-value pairs referred to in type json. The name (
or key) is always a json-string object. The value can be any json data type
from this list, including another json object.</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>json-string       a
subclass of class string with unique :. And :write methods</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>int        one of
two JSON number types </p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>flt        one of
two JSON number types</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>bool     JSON
Boolean type</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>json-array        a
subclass of array with unique :. :free and :write methods. This the square
bracket comma delimited json array type: [   ,   ,    ,   ]</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in'>null      for the
JSON null type</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Consider the following JSON text from Wikipedia <a
href="https://en.wikipedia.org/wiki/JSON#Syntax">https://en.wikipedia.org/wiki/JSON#Syntax</a>
:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Read the example as text from the input stream by delimiting
with <span style='font-size:10.0pt;font-family:"Courier New"'>j{ … }j</span> :</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>j{
{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;firstName&quot;: &quot;John&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;lastName&quot;: &quot;Smith&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;isAlive&quot;: true,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;age&quot;: 27,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;address&quot;: {</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
&quot;streetAddress&quot;: &quot;21 2nd Street&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
&quot;city&quot;: &quot;New York&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
&quot;state&quot;: &quot;NY&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
&quot;postalCode&quot;: &quot;10021-3100&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
},</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;phoneNumbers&quot;: [</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>     
&quot;type&quot;: &quot;home&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>     
&quot;number&quot;: &quot;212 555-1234&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
},</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>     
&quot;type&quot;: &quot;office&quot;,</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>     
&quot;number&quot;: &quot;646 555-4567&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>   
}</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
],</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;children&quot;: [],</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> 
&quot;spouse&quot;: null</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}
}j value j ok</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now print the JSON object:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>j
:.</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>\
output follows </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;firstName&quot;:
&quot;John&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;lastName&quot;:
&quot;Smith&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;isAlive&quot;:
true, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;age&quot;:
27, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;address&quot;:
</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;streetAddress&quot;:
&quot;21 2nd Street&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;city&quot;:
&quot;New York&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;state&quot;:
&quot;NY&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;postalCode&quot;:
&quot;10021-3100&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;phoneNumbers&quot;:
[ </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;type&quot;:
&quot;home&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;number&quot;:
&quot;212 555-1234&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;type&quot;:
&quot;office&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;number&quot;:
&quot;646 555-4567&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}],
</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;children&quot;:
[], </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;spouse&quot;:
null</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>} ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal>One can perform a search on the name keys and return its
value if found:</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>s&quot;
lastname&quot; j :search .s \ =&gt; &quot;Smith&quot;( 2 ) \ 11878576 \ -1</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal>Note that the search-for string need not match the case of
the JSON key string. Also note that if found, as it was in this example, then
the value object is returned under true.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>We can manipulate the object as we wish. For example:</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>s&quot;
Venkman&quot; 11878576 :! ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>j
:. </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>\
output follows </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;firstName&quot;:
&quot;John&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;lastName&quot;:
&quot;Venkman&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;isAlive&quot;:
true, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;age&quot;:
27, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;address&quot;:
</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;streetAddress&quot;:
&quot;21 2nd Street&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;city&quot;:
&quot;New York&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;state&quot;:
&quot;NY&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;postalCode&quot;:
&quot;10021-3100&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;phoneNumbers&quot;:
[ </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;type&quot;:
&quot;home&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;number&quot;:
&quot;212 555-1234&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;type&quot;:
&quot;office&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;number&quot;:
&quot;646 555-4567&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}],
</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;children&quot;:
[], </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;spouse&quot;:
null</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>} ok
</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'> </span></p>

<p class=MsoNormal>The modified JSON object is easily converted to a string
object using <span style='font-size:10.0pt;font-family:"Courier New"'>json&gt;$
</span>where it can then be manipulated as desired such as writing to a file.</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>s j
json&gt;$ value s ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>s
:.</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>\ output
follows</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;firstName&quot;:
&quot;John&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;lastName&quot;:
&quot;Venkman&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;isAlive&quot;:
true, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;age&quot;:
27, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;address&quot;:
{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;streetAddress&quot;:
&quot;21 2nd Street&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;city&quot;:
&quot;New York&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;state&quot;:
&quot;NY&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;postalCode&quot;:
&quot;10021-3100&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;phoneNumbers&quot;:
[{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;type&quot;:
&quot;home&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;number&quot;:
&quot;212 555-1234&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;type&quot;:
&quot;office&quot;, </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;number&quot;:
&quot;646 555-4567&quot;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}],
</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;children&quot;:
[], </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&quot;spouse&quot;:
null</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>}
ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal>Alternatively JSON objects can be created directly from
Forth strings using <span style='font-size:10.0pt;font-family:"Courier New"'>$&gt;json</span>
:</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>s\&quot;
[[\&quot;foo\&quot;,1],[\&quot;bar\&quot;,[10,\&quot;apples\&quot;]]]&quot;
$&gt;json value j2 ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>j2
:. \ =&gt; [ [ &quot;foo&quot;, 1], [ &quot;bar&quot;, [ 10,
&quot;apples&quot;]]] ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>j2
:size . \ =&gt; 2 ok</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:"Courier New"'>0
j2 :at :. \ =&gt; [ &quot;foo&quot;, 1] ok</span></p>

<h1><a name="_Toc145761036">Hash-Tables</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When storing a new item into a <span style='font-family:
"Courier New"'>hash-table</span> and a hash collision occurs, but the actual
keys themselves are different, the item is over written.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The following is how class hash-table works: an <span
style='font-family:"Courier New"'>:insert</span> with an existing key will
simply over-write the value</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>But see class <span style='font-family:"Courier New"'>hash-table-m</span>
for the ability to store multiple identical keys with differing values and how
to retrieve them later.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>hash-table t  </p>

<p class=code>&nbsp;</p>

<p class=code>8888 s&quot; Now&quot; t :insert   </p>

<p class=code>6 s&quot; dog&quot; t :insert  </p>

<p class=code>77 s&quot; cat&quot; t :insert </p>

<p class=code>55 s&quot; frog&quot; t :insert </p>

<p class=code>100 s&quot; pony&quot; t :insert </p>

<p class=code>200 s&quot; fish&quot; t :insert </p>

<p class=code>300 s&quot; tree&quot; t :insert </p>

<p class=code>400 s&quot; double&quot; t :insert </p>

<p class=code>500 s&quot; build&quot; t :insert </p>

<p class=code>600 s&quot; trying&quot; t :insert </p>

<p class=code>700 s&quot; oh well&quot; t :insert </p>

<p class=code>800 s&quot; my oh my&quot; t :insert</p>

<p class=code>&nbsp;</p>

<p class=code>s&quot; fish&quot; t :@ . .    \ =&gt; -1 200 “fish” is found,
its value is 200</p>

<p class=code>s&quot; fish&quot; t :delete . \ =&gt; -1  deletion of “fish” was
successful</p>

<p class=code>s&quot; fish&quot; t :@ .      \ =&gt; 0. “fish” was not found</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=code>hash-table-m r  </p>

<p class=code>&nbsp;</p>

<p class=code>s&quot; Whales &quot;   &gt;string s&quot; Jonah&quot; r :insert</p>

<p class=code>s&quot; Spiders &quot;  &gt;string s&quot; Jonah&quot; r :insert</p>

<p class=code>s&quot; Ghosts &quot;   &gt;string s&quot; Alan&quot;  r :insert</p>

<p class=code>s&quot; Buffy &quot;    &gt;string s&quot; Glory&quot; r :insert </p>

<p class=code>s&quot; Zombies &quot;  &gt;string s&quot; Alan&quot;  r :insert</p>

<p class=code>s&quot; Vampires &quot; &gt;string s&quot; Jonah&quot; r :insert</p>

<p class=code>&nbsp;</p>

<p class=code>s&quot; Jonah&quot; r :@ . :. \ =&gt; -1 Whales</p>

<p class=code>r :next .  \ =&gt; -1</p>

<p class=code>:.  \ =&gt; Spiders</p>

<p class=code>r :next .  \ =&gt; -1</p>

<p class=code>:.  \ =&gt; Vampires</p>

<p class=code>r :next .  \ =&gt; 0</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<h1><a name="_Ref27183593"></a><a name="_Toc145761037">FREEing Allocated
Objects</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>FMS does not add automatic garbage collection, so any
objects that either allocate memory or are themselves allocated in the heap
must have that memory manually FREEd. The problems here are there are several
different ways in which one can allocate memory in FMS and each must be
recognized and handled appropriately.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>The entire
object is allocated in the heap.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>The object
is created in the dictionary but some instance variables are allocated in the
heap.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>An array
is allocated in the heap and the array contains a variable number of objects,
each object also allocated in the heap and some of those objects are themselves
heap arrays so the arrays can be nested to any level.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Case 1. is simple. One need only call free throw with the
object on the stack.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class foo </p>

<p class=code>  cell bytes data</p>

<p class=code>;class</p>

<p class=code>&nbsp;</p>

<p class=code>: &gt;foo ( -- obj ) heap&gt; foo ;</p>

<p class=code>&gt;foo  \ create the object</p>

<p class=code>free throw  \ free the object's memory</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Case 2. is also not difficult.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>:class foo2 </p>

<p class=code>  cell bytes data</p>

<p class=code>  :m :init 10 allocate throw data ! ;m</p>

<p class=code>  :m :free data @ free throw ;m</p>

<p class=code>;class</p>

<p class=code>&nbsp;</p>

<p class=code>: &gt;foo2 ( -- obj ) heap&gt; foo2 ;</p>

<p class=code>&gt;foo2 value f2 \ create the object</p>

<p class=code>f2 :free \ free the object's instance variable memory</p>

<p class=code>f2 free throw \ free the object's memory</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>FMS provides a HOF that will handle both Cases 1. and 2.,
&lt;FREE .</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>: &lt;free ( heap-obj --) dup :free free throw ;</p>

<p class=code>&nbsp;</p>

<p class=MsoNormal>Since class object has the method :free defined (though it
does nothing) we can use &lt;free on a foo object created in the heap. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Lastly, consider Case 3.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>o{ { 0 1 2 } { 3 4 { 100 200 } 5 } { 6 7 8 } } value y  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here we have an array that contains all heap objects with
some of the heap objects being nested arrays themselves. For this we have the
HOF &lt;freeAll.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=code>  : &lt;freeAll \ { obj -- }</p>

<p class=code>  locals| obj |</p>

<p class=code>  begin</p>

<p class=code>   obj :each</p>

<p class=code>  while</p>

<p class=code>   dup is-a array</p>

<p class=code>   if recurse else &lt;free then</p>

<p class=code>  repeat obj &lt;free ;</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<p class=code>&nbsp;</p>

<h2><a name="_Toc145761038">Debugging Memory De-allocation</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Loading the file mem.f  prior to the FMS2 code will provide a
development-only.  It should assist in debugging allocated object/memory leaks.
</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>File mem.f is provided to assist assuring that a program
that allocates, resizes, and frees memory has no memory leaks.  It is a very
simple routine that maintains a list of allocated pointers. There are just
three user words:</p>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<p class=code>n constant mem-size</p>

<p class=code>.mem</p>

<p class=code>clr-mem</p>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<p class=MsoNormal>n will set the maximum number of pointers to be tracked in
the list.</p>

<p class=MsoNormal>.mem is used to query the number of un-freed pointers
pointers.</p>

<p class=MsoNormal>clr-mem will free all of the un[freed pointers in the list.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>File mem.f redefines the words ALLOCATE RESIZE and FREE such
that their behavior is exactly the same but the unfreed pointers are tracked as
described above. Mem.f is loaded prior to any other file. Mem.f is not written
to be efficient. It will slow the execution time of any program that uses
ALLOCATE RESIZE and FREE.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Example use:</p>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<p class=code>\ A list that can track 50000 pointers is the default.</p>

<p class=code>\ If the list size is exceeded your program will abort</p>

<p class=code>\ with a &quot; no room left in mem-list&quot; error message.</p>

<p class=code>\ Change the mem-size constant to suit your needs.</p>

<p class=code>50000 constant mem-size \ choose a large enough size</p>

<p class=code>&nbsp;</p>

<p class=code>100 allocate drop value x </p>

<p class=code>100 allocate drop value y </p>

<p class=code>.mem </p>

<p class=code>\ output follows</p>

<p class=code>0 9916368 </p>

<p class=code>1 9892576 </p>

<p class=code>2 unFREEd pointers </p>

<p class=code>&nbsp;</p>

<p class=code>x 200 resize drop to x </p>

<p class=code>.mem </p>

<p class=code>\ output follows</p>

<p class=code>0 9862976 </p>

<p class=code>1 9892576 </p>

<p class=code>2 unFREEd pointers </p>

<p class=code>x free drop </p>

<p class=code>.mem </p>

<p class=code>\ output follows</p>

<p class=code>0 9892576 </p>

<p class=code>1 unFREEd pointers </p>

<p class=code>&nbsp;</p>

<p class=code>clr-mem </p>

<p class=code>.mem</p>

<p class=code>\ output follows </p>

<p class=code>0 unFREEd pointers </p>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<p class=MsoNormal>Note that <span style='font-size:10.0pt;font-family:"Courier New"'>.mem</span>
will list the value of the unfreed pointer(s).</p>

<p class=MsoNormal>This can be useful in pinpointing the source of a memory
leak in your program. For example if you suspect that the pointer is an unfreed
object then you can try sending a class-specific message to that pointer to
verify or use <span style='font-size:10.0pt;font-family:"Courier New"'>.class</span>.<br
clear=all style='page-break-before:always'>
</p>

<h1><a name="_Toc145761039">Class Reference</a></h1>

<h2><a name="_Toc145761040">Class Creation</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=648
 style='width:485.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:class</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&quot;className&quot; --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>begin new class definition
  with class name directly following</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&lt;super</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&quot;superclassName&quot;
  --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>declare superclass, not required
  if superclass is object</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>bytes</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>n &quot;name&quot; -- </span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>create an instance variable
  definition of n bytes </span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:m</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&quot;messageName&quot; --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>begin normal method
  definition bound to given name</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>;m</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>--</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>end method definition</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>self</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- addr</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>pseudo instance variable</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>eself</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- &quot;messageName&quot;</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>early bind self to
  following message</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>super</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- &quot;messageName&quot;</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>pseudo instance variable
  for calling method of superclass</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>;class</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>--</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>end new class definition</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<h2><a name="_Toc145761041">Class Related Words</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=648
 style='width:485.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>heap&gt;</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&quot;className&quot; --
  obj</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>allocate a new nameless
  object in the heap of the given class, compile time only</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>dict&gt;</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&quot;className&quot; --
  obj</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>allot a new nameless object
  in the dictionary of the given class, compile time only</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&lt;free</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>frees all memory allocated
  to an object created with heap&gt;</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>is-a</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj &quot;classname&quot;
  -- f</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return true if object is of
  the given class, compile time only</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>is-a-kindof</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj &quot;classname&quot;
  -- f</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return true if object is of
  class type or a subclass of class type, compile time only</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>.class</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj -- &lt;classname&gt;</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>prints the class name of
  the object</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>make-selector</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&quot;messageName&quot; --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>define a new message
  outside of class definition, not yet bound to any method</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>restore</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>--</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>used to restore the search
  order and other parameters in the case of a class compilation error</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>fmsCheck?</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- f</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>a conditional compilation
  constant, if true then error checks will be in place such as &quot;Message
  Not Understood&quot;</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>?alloc</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- f</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>a value used to communicate
  to the :init method if an object is allocated in the heap, true=in-heap. 
  false=in-dictionary</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:16.0pt;font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></p>

<h1><a name="_Toc145761042">Class Library Reference</a></h1>

<h2><a name="_Toc145761043">Ptr Class (subclass of Object)</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:init</span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>n ptr --</span></p>
  </td>
  <td width=372 valign=top style='width:278.75pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>set initial allocated size
  in bytes</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:resize</span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>newsize ptr --</span></p>
  </td>
  <td width=372 valign=top style='width:278.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:size</span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ptr -- n</span></p>
  </td>
  <td width=372 valign=top style='width:278.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>get the size in bytes</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:free</span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ptr --</span></p>
  </td>
  <td width=372 valign=top style='width:278.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>frees allocated memory</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761044">Array Class (subclass of Ptr)</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:to</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>elem idx arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>stores element</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:at</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>idx arr -- elem</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>gets element</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:add</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>elem arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>increase size of array by
  one and add elem to end</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:size</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr -- n</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return the number of
  elements in the array</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:.</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>print the array to the
  console</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:insert</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>elem idx arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>insert the elem at idx
  position</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:delete</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>idx arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>delete the elem at idx
  position</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:remove</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>idx arr -- elem</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return the elem at idx,
  then :delete it from the array</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:+</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>array1 arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>concatenate all elems of
  array1 to the end of this array</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:each</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr -- elem t or f</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return next elem under
  true, or false if no more elems</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:uneach</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>reset :each parameters to
  beginning</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:first</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr -- elem</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns first element (same
  as 0 arr :at )</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:second</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr -- elem</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns second element
  (same as 1 arr :at )</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:last</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr -- elem</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns last element</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:sort</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>only if this is an array of
  Forth integers, performs ascend sort</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:sortWith</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt arr --</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>sorts array using xt for
  comparisons</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:search</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>elem arr -- idx t | f</span></p>
  </td>
  <td width=366 valign=top style='width:274.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>searches for elem</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761045">Array HOFs</a></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=678
 style='width:508.25pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;array</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- arr</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>creates an empty resizable
  array in the heap</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:apply</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt arr -- &lt;varies&gt;</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt to every item in
  the array, array is unchanged</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:applyIf</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt1 xt2 arr --
  &lt;varies&gt;</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt2 only if xt1
  returns true</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:map</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt arr --</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt to every item in
  the array, array is changed</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:filter</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt arr -- arr'</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return new arr of elems
  that respond true to xt</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:count</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt arr -- cnt</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>count the number of times
  xt returns non-zero</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&lt;freeAll</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>arr --</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>frees memory for heap array
  filled with heap objects as elements</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761046">Farray Class (subclass of Array)</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Farray objects have all of the same methods as Array objects
except the elem is a fp number and so always resides on the floating point
stack when storing or retrieving. Both dictionary and heap objects are
supported just as with class Array.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761047">Farray HOFs</a></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=678
 style='width:508.25pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;farray</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- farr</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>creates an empty resizable
  farray in the heap</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761048">String Class (subclass of Ptr)</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;string</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len -- str</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>create a string object in
  the heap inititialized with text adr len ( which can be 0 0 if you wish to
  start with an empty string</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:!</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>replace entire string with
  given text</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:@</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- adr len</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return adr len of entire
  string</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:to</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char idx str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>stores char</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:at</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>idx str -- char</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>gets char</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:add</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>append adr len to the end
  of the string</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:size</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- n</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return the number of chars
  in the string</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:.</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>print the entire string to
  the console</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:insert</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>insert the given text
  starting at END, START and END are moved to end of str</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:delete</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>delete
  the substring bounded by START and END</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:replace</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>replace
  the substring bounded by START and END with text adr len</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:+</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str1 str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>concatenate
  all of str1 to the end of str</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:each</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- char t or f</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return next char under
  true, or false if no more chars</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:uneach</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>reset :each parameters to
  beginning</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:first</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- char</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns first char (same as
  0 str :at )</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:second</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- char</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns second char (same
  as 1 str :at )</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:last</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- char</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns last char</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:=</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns true if entire
  string is equal to adr len (case sensitive)</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:=CI</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Case Insensitive version of
  :=</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:search</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>searches for adr len case
  sensitive, if found START and END delimit the found text. The next use of
  :search will begin just after END unless :reset is used.</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:searchCI</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Case Insensitive version of
  :search</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:=sub</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns true if substr
  bounded by START and END is equal to adr len (case sensitive)</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:=subCI</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Case Insensitive version of
  :=sub</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:reset</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- </span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>sets START and END to zero</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:selectAll</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>sets START to zero and END
  to end of str</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:start</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- adr</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns address of START
  instance variable</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:end</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- adr</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>returns address of END
  instance variable</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:copy</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str -- str2</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return string object copy
  in dict or heap, same as original</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:upper</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>converts all chars in
  string to uppercase</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:lower</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>converts all chars in
  string to lowercase</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:ch+</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>append char to end of
  string</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:chsearch</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>if char is found return
  true and set START and END to enclose the char</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:chsearchCI</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char str -- b</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Case Insensitive version of
  :chsearch</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:chinsert</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char str --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>inserts char at END, START
  and END are moved to just past inserted char</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761049">String HOFs</a></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=690
 style='width:517.25pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;string</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len -- str</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>create a heap string object
  with initial text adr len</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:sch&amp;repl</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ad1 n1 adr2 n2 str -- b</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Search for text1 starting
  at END. replace just one occurrence</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:sch&amp;replCI</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ad1 n1 adr2 n2 str -- b</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Case Insensitive version of
  :sch&amp;repl</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:replall</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ad1 n1 adr2 n2 str --</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>replace all occurrences of
  ad1 n1 with ad2 n2</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:replallCI</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ad1 n1 adr2 n2 str --</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Case Insensitive version of
  :replall</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:split</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char str -- array</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>find all substrings
  delimited by:</span></p>
  <p class=MsoNormal><span style='font-size:10.0pt'>1) start of string and char</span></p>
  <p class=MsoNormal><span style='font-size:10.0pt'>2) and char and char</span></p>
  <p class=MsoNormal><span style='font-size:10.0pt'>3) and char and end of
  string</span></p>
  <p class=MsoNormal><span style='font-size:10.0pt'>return all of them as an
  array of string objects allocated in the heap, the array object is also
  allocated in the heap</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:remove-extra-chars</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>char str -- str2</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Remove leading and trailing
  chars, removes more than one char(s) occurring consecutively between words.</span></p>
  <p class=MsoNormal><span style='font-size:10.0pt'>Original string is
  untouched, new heap string is returned.</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:apply</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt str -- &lt;varies&gt;</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt to every item in
  the str, str is unchanged</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:applyIf</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt1 xt2 str --
  &lt;varies&gt;</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt2 only if xt1
  returns true</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:map</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt str --</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt to every item in
  the str, str is changed</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:filter</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt str -- arr'</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return new str of chars
  that respond true to xt</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:count</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt str -- cnt</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>count the number of times
  xt returns non-zero</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:dequote</span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str --</span></p>
  </td>
  <td width=414 valign=top style='width:310.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>remove the leading and
  trailing 's from strings created using the </span></p>
  <p class=MsoNormal><span style='font-size:10.0pt'>o{ 'a string' ... }
  technique</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761050">File Class (subclass of Object)</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:init</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len must be the name of
  the file</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:fam</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fam fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>set the file access method</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:open</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>open the file (note that
  this is usually done automatically by read and write methods)</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:delete</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>delete the file and free
  the memory for the file strings</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:create</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>create the file</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:flush</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>flush the file</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:size</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj -- n</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return the size of the file
  in bytes</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:read</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj -- strObj</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>open the file if needed and
  read the entire file and return the contents in a string object</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:read-line</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj -- strObj true |
  false</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>open the file if needed and
  read one line from the file up to a maximum of MAX bytes, return the line as
  a string object under true. If there are no more lines then just return false</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:each</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj -- strObj true |
  false</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>:each
  simply calls :read-line, which is useful for HOFs like :apply</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:uneach</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>reset
  the file position so a subsequent :each will return a strObj comprised of the
  first line</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:write</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>open
  the file if needed and overwrite the entire file with adr len</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:write-line</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>adr len fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>open
  the file if needed and write one line to the file at the current position</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:!pos</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>n fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>reposition
  the file to n bytes from the start</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:@pos</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj -- n</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-right:-5.35pt'><span style='font-size:10.0pt'>return
  the current position of the file</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:close</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>close the file</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:free</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>fileObj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>FREE the memory allocated
  for the file name and the one-line and read buffers and :close the file</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761051">Int Class (subclass of Object)</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Int objects are simple objects for classic Forth one cell
integers.</p>

<p class=MsoNormal>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;int</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>n -- obj</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>create an int object in the
  heap initialized to n</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:!</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>n obj --</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>store n in the obj</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:@</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj -- n</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>place the value of the obj
  on the stack</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:.</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj -- </span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>print the contents to the
  console</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:=</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj1 obj2 -- f</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>f is true if the two int
  objects contain the same data</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:&gt;</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj1 obj2 -- f</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>f is true if the obj1's
  data is greater than obj2's</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761052">Flt Class (subclass of Object)</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Flt objects are simple objects for classic Forth float sized
numbers.</p>

<p class=MsoNormal>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;flt</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>(-- obj)  (F: r --)</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>create a flt object in the
  heap initialized to r</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:!</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>(obj --)  (F: r --)</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>store r in the obj</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:@</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>(obj --)  (F: -- r )</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>place the value of the obj
  on the FP stack</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:.</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj -- </span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>print the contents to the
  console</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:=</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj1 obj2 -- f</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>f is true if the two flt
  objects contain the same data</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:&gt;</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>obj1 obj2 -- f</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>f is true if the obj1's
  data is greater than obj2's</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761053">JSON Class (subclass of array)</a></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=648
 style='width:485.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>j{
  … }j</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt'>--
  json</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Parse the input stream
  between j{ and }j and return a JSON object allocated in the heap</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:.</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>json --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Print the JSON object</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:search</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>addr len – value t | f</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Search the JSON keys for
  the given string, return the value object under true if found, just return
  false if not found</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&lt;free</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>json --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Free all allocated memory
  of the JSON</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>$&gt;json</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>addr len -- json</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Convert a Forth string to a
  JSON object</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>json&gt;$</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>json – str-obj</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Convert a JSON object to a
  string object</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761054">bool Class (subclass of Object)</a></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=648
 style='width:485.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;bool</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt'>true
  | false -- bool-obj</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Create a bool object
  allocated in the heap and set to the given true or false value</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:.</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>bool-obj --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Print either true or false</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:!</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>true | false bool-obj -- </span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Store the given value in
  the bool</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:@</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>bool-obj – t | f</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Return the value of the
  bool</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:write</span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>str bool-obj --</span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>Write the bool to the given
  string object</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc145761055">Hash-Table Class (subclass of Object)</a></h2>

<p class=MsoNormal>An :insert with an existing key will simply over-write the
value.</p>

<p class=MsoNormal>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:insert</span></p>
  </td>
  <td width=228 valign=top style='width:171.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>val key-addr key-len ht --</span></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>insert a new value-key pair</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:@</span></p>
  </td>
  <td width=228 valign=top style='width:171.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>key-addr key-len ht -- val
  true | false </span></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return the value associated
  with the key under flag</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:delete</span></p>
  </td>
  <td width=228 valign=top style='width:171.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>key-addr key-len ht -- flag
  </span></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>delete the node under
  success flag</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:each</span></p>
  </td>
  <td width=228 valign=top style='width:171.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ht -- node true | false</span></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>iterate over each node in
  hash table</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:uneach</span></p>
  </td>
  <td width=228 valign=top style='width:171.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ht --</span></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>reset the :each parameters
  so the next :each starts at the beginning</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:d</span></p>
  </td>
  <td width=228 valign=top style='width:171.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ht -- </span></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>print the entire contents
  to the console (only for debugging, i.e., when fmsCheck? = true)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc145761056">Hash-Table HOFs</a></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=678
 style='width:508.25pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>&gt;hash-table</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>-- ht</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>creates an empty hash-table
  in the heap</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:apply</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt ht -- &lt;varies&gt;</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt to every item in
  the hash-table, hash-table is unchanged</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:applyIf</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt1 xt2 ht --
  &lt;varies&gt;</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>apply xt2 only if xt1
  returns true</span></p>
  </td>
 </tr>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:filter</span></p>
  </td>
  <td width=132 valign=top style='width:99.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>xt ht -- ht'</span></p>
  </td>
  <td width=408 valign=top style='width:4.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>return new hash-table of
  elems that respond true to xt</span></p>
  </td>
 </tr>
</table>

<h2>&nbsp;</h2>

<h2><a name="_Toc145761057">Hash-Table-m Class (subclass of Hash-Table)</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An :insert with an existing key will add another key/value
pair to the table, not over write the value.</p>

<p class=MsoNormal>The same key may have multiple values. Use :next to inspect
for additional values.</p>

<p class=MsoNormal>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=138 valign=top style='width:103.25pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify'><span style='font-size:10.0pt'>:next</span></p>
  </td>
  <td width=120 valign=top style='width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>ht -- val true | false</span></p>
  </td>
  <td width=426 valign=top style='width:319.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt'>use after :@ to return
  additional values for same key, if any</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

</div>

<div><br clear=all>

<hr align=left size=1 width="33%">

<div id=ftn1>

<p class=MsoFootnoteText><a href="#_ftnref1" name="_ftn1" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman",serif'>[1]</span></span></span></a>
Object programming is often called Object Oriented Programming, or OOP.</p>

</div>

<div id=ftn2>

<p class=MsoNormal><a href="#_ftnref2" name="_ftn2" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'>[2]</span></span></span></a>
<span style='font-size:10.0pt'>In  FMS everything is <i>not</i> an object,
unlike Oforth and Factor. Oforth in particular is an excellent dialect of Forth
that fully uses the object oriented programming (oop) paradigm and is not
extremely different in syntax from standard Forth. Oforth achieves a pure oop
environment by making all atomic data types objects. This includes integers,
floating point numbers, big integers, strings, and arrays (and JSON objects
with the Oforth JSON extension). These data types are recognized by the Oforth
interpreter/compiler and the corresponding objects are created as needed. Also,
garbage collection is included in the kernel. There is no need for double
length integers. There is no floating point stack, or string stack.</span></p>

<p class=MsoNormal><span style='font-size:10.0pt'>&nbsp;</span></p>

<p class=MsoFootnoteText>In contrast, standard Forth has just the kernel data
types of integers, floating point numbers, and doubles. None are objects and
there is no garbage collection.</p>

</div>

</div>

<div><br clear=all>

<hr align=left size=1 width="33%">

<div id=edn1>

<p class=MsoEndnoteText><a href="#_ednref1" name="_edn1" title=""><span
class=MsoEndnoteReference><span class=MsoEndnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman",serif'>[i]</span></span></span></a>
A Fast String Searching Algorithm, Robert S. Boyer Stanford Research Institute,
J Strother Moore Xerox Palo Alto Research Center</p>

</div>

</div>

</body>

</html>
